# Initial beliefs.
***(~hasItems(location(1)),0.9).
***(hasItems(location(2)),0.8).
***(hasItems(location(3)),0.7).
**(at(location(1)),0.9).
**(at(location(2)),0.06).
**(at(location(3)),0.03).
**(at(location(4)),0.01).

**(sufficientBattery(location(1),location(2),location(4)),1).
**(sufficientBattery(location(1),location(3),location(4)),1).

# Initial goals.
!completeMission.

# Plan library.
#+!completeMission : at(location(X)) >= at(location(Y)) && at(location(X)) >= at( location(Z)) && at(location(X)) >= at(location(4)) &&
#                    X \== 4 && X \== Y && X \== Z && Y \== Z && Y \== 4 <- !proceed(location(X),location(Y)).

#+!completeMission : at(location(X)) > at(location(Y)) && at(location(X)) > at( location(Z)) && at(location(X)) > at(location(4)) &&
#                    hasItems(location(Y)) > hasItems(location(Z)) &&
#                    X \== 4 && X \== Y && X \== Z && Y \== Z <- !proceed(location(X),location(Y)).

+!completeMission : at(location(X)) >= at(location(Y)) && at(location(X)) >= at( location(Z)) && at(location(X)) >= at(location(4)) &&
                    (hasItems(location(Y)) || hasItems(location(Z))) && hasItems(location(Y)) >= hasItems(location(Z)) &&
                    sufficientBattery(location(X),location(Y),location(4)) && X \== 4 && X \== Y && X \== Z && Y \== Z <- !proceed(location(X),location(Y)).
+!completeMission : at(location(X)) >= at(location(Y)) && at(location(X)) >= at( location(Z)) && at(location(X)) >= at(location(4)) && (hasItems(location(Y)) || hasItems(location(Z))) && hasItems(location(Y)) >= hasItems(location(Z)) && ~sufficientBattery(location(X),location(Y),location(4)) && X \== 4 && X \== Y && X \== Z && Y \== Z <- broadcast(try(location(Y))); !proceed(location(X),location(4)) .
+!completeMission : at(location(X)) >= at(location(Y)) && at(location(X)) >= at( location(Z)) && at(location(X)) >= at(location(4)) && ~hasItems(location(Y)) && ~hasItems(location(Z)) && X \== 4 && X \== Y && X \== Z && Y \== Z <- !proceed( location(X),location(4)).
+!completeMission : at(location(4)) >= at(location(X)) && at(location(4)) >= at( location(Y)) && at(location(4)) >= at(location(Z)) && X \== 4 && Y \== 4 && Z \== 4 && X \== Y && X \== Z && Y \== Z <- depositItems.

+!proceed(location(X),location(Y)) : true <- collectItems; *(~hasItems(location(X)) ,1); *(hasItems(location(X)),0); !travel(location(X),location(Y)); ! completeMission.
+!travel(location(X),location(Y)) : true <- *(at(location(X)),0.01); *(at(location(Y)) ,0.99).